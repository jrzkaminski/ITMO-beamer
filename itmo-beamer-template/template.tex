%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[
	11pt,
	aspectratio=169,
]{beamer}

\graphicspath{{img/}{./}}

\usepackage{booktabs}
\usepackage{minted}
\usepackage{multirow}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
% \usepackage[russian]{babel} % uncomment this line if the presentation requires russian language
\usepackage{biblatex}
\usepackage{csquotes}
%----------------------------------------------------------------------------------------
%	SELECT LAYOUT THEME
%----------------------------------------------------------------------------------------
\usepackage{lipsum}
\usetheme{Madrid}

%----------------------------------------------------------------------------------------
%	SELECT COLOR THEME
%----------------------------------------------------------------------------------------

%----------------------------------------------------------------------------------------
%	SELECT COLOR THEME
%----------------------------------------------------------------------------------------

\usecolortheme{dove}
\newif\ifDayTheme
\DayThemetrue % false - for night

\def\DAY{DEFAULT} % for debug
\def\ITMObackground{}
\def\ITMOlogo{}

\newcommand{\applyDAY}{
    \def\DAY{TRUE} % for debug
    \def\ITMObackground{ITMO_misc/ITMO_background.jpg}
    \def\ITMOlogo{ITMO_misc/ITMO_black.png}
}

\newcommand{\applyNIGHT}{
    \def\DAY{FALSE} % for debug
    \def\ITMObackground{ITMO_misc/ITMO_background_dark.jpg}
    \def\ITMOlogo{ITMO_misc/ITMO_white.png}

    \setbeamercolor{background canvas}{bg=darkgray}
    \setbeamercolor{normal text}{fg=white}
    \setbeamercolor{structure}{fg=white}
    \setbeamercolor{title}{fg=white}
    \setbeamercolor{titlelike}{fg=white}
    \setbeamercolor{frametitle}{fg=white}

    % Block Colors

    \setbeamercolor{block title}{fg=black, bg=white}
    \setbeamercolor{block body}{fg=black, bg=white}
    \setbeamercolor{block alerted title}{fg=black, bg=white}
    \setbeamercolor{block alerted body}{fg=black, bg=white}
    \setbeamercolor{block example title}{fg=black, bg=white}
    \setbeamercolor{block example body}{fg=black, bg=white}
}

\ifDayTheme \applyDAY \else \applyNIGHT \fi

%----------------------------------------------------------------------------------------
%	SELECT FONT, FONT THEME, INNER THEME
%----------------------------------------------------------------------------------------

\usefonttheme{default}
\usepackage[default]{opensans}
\useinnertheme{rectangles}


%----------------------------------------------------------------------------------------
%	SETTING ITMO LOGOS AND BACKGROUND
%----------------------------------------------------------------------------------------
\setbeamertemplate{title page}{
    \begin{tikzpicture}[remember picture,overlay]
        \node[anchor=north west,inner sep=0pt] at (current page.north west) {\includegraphics[width=\paperwidth]{ITMO_misc/ITMO_background.jpg}};
        % Position subtitle directly at the center
        \node[anchor=center] at (current page.center) {
            \begin{minipage}{\linewidth}
                \color{white}
                \centering
                \fontsize{28pt}{36pt}\selectfont\inserttitle\par
                \usebeamerfont{subtitle}\insertsubtitle\par
                \bigskip
            \end{minipage}
        };
        % Positioning for name, institution, and date at the bottom
        \node[anchor=south] at ([yshift=0.1cm]current page.south) {
            \begin{minipage}{\linewidth}
                \color{white}
                \centering
                \usebeamerfont{author}\insertauthor\par
                \usebeamerfont{institute}\insertinstitute\par
                \usebeamerfont{date}\insertdate\par
            \end{minipage}
        };
    \end{tikzpicture}
}


\setbeamertemplate{headline}{
    \begin{tikzpicture}[remember picture,overlay]
        \node[anchor=north east] at (current page.north east) {\includegraphics[height=1cm]{ITMO_misc/ITMO_black.png}};
    \end{tikzpicture}
}


%----------------------------------------------------------------------------------------
%	PRESENTATION INFORMATION
%----------------------------------------------------------------------------------------

 \title[ITMO example]{Example ITMO presentation} % The short title in the optional parameter

\subtitle{Optional subtitle} % Presentation subtitle, remove this command if a subtitle isn't required

\author[Doe]{John Doe, MSc} % Presenter name(s), the optional parameter can contain a shortened version to appear on the bottom of every slide, while the main parameter will appear on the title slide

\institute[ITMO]{ITMO University, johndoe@mail.com} % Your institution, the optional parameter can be used for the institution shorthand and will appear on the bottom of every slide after author names, while the required parameter is used on the title slide and can include your email address or additional information on separate lines

\date[\today]{
    Sample optional subject
    \\ \today} % Presentation date or conference/meeting name, the optional parameter can contain a shortened version to appear on the bottom of every slide, while the required parameter value is output to the title slide

%----------------------------------------------------------------------------------------

\begin{document}

%----------------------------------------------------------------------------------------
%	TITLE SLIDE
%----------------------------------------------------------------------------------------
\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{footline}{}
\begin{frame}
	\titlepage % Output the title slide, automatically created using the text entered in the PRESENTATION INFORMATION block above
\end{frame}
\setbeamertemplate{footline}[frame number]

%----------------------------------------------------------------------------------------
%	TABLE OF CONTENTS SLIDE
%----------------------------------------------------------------------------------------

% The table of contents outputs the sections and subsections that appear in your presentation, specified with the standard \section and \subsection commands. You may either display all sections and subsections on one slide with \tableofcontents, or display each section at a time on subsequent slides with \tableofcontents[pausesections]. The latter is useful if you want to step through each section and mention what you will discuss.

\begin{frame}
	\frametitle{Table of contents} % Slide title, remove this command for no title

	\tableofcontents % Output the table of contents (all sections on one slide)
	%\tableofcontents[pausesections] % Output the table of contents (break sections up across separate slides)
\end{frame}

%----------------------------------------------------------------------------------------
%	PRESENTATION BODY SLIDES
%----------------------------------------------------------------------------------------

\section{Introduction}
\begin{frame}
	\frametitle{What is Lorem Ipsum?}
    \lipsum[1][1-3]
\end{frame}

\section{Main Information}
\subsection{History}
\begin{frame}[t]
	\frametitle{Top align}
    \lipsum[2][1-3]
\end{frame}

\begin{frame}
	\frametitle{List}
    \begin{itemize}
        \item Item 1
        \item Item 2
        \setbeamertemplate{enumerate items}[default]
        \begin{enumerate}
            \item Item 1
            \item Item 2
        \end{enumerate}
        \item Item 3
    \end{itemize}
\end{frame}

\subsection{Usage}
\begin{frame}
    \frametitle{Image with text right}
    \begin{tabular}{cl}
        \begin{tabular}{c}
            \centering
            \includegraphics[height=4cm, width=3.5cm]{fig.png}
        \end{tabular} &
        \begin{tabular}{l}
            \parbox{0.5\linewidth}{\lipsum[2][1-3]}
        \end{tabular}
    \end{tabular}
\end{frame}

\begin{frame}
    \frametitle{Image with text left}
    \begin{tabular}{cl}
        \begin{tabular}{l}
            \parbox{0.5\linewidth}{\lipsum[2][1-3]}
        \end{tabular} &
        \begin{tabular}{c}
            \centering
            \includegraphics[height=4cm, width=3.5cm]{fig.png}
        \end{tabular}
    \end{tabular}
\end{frame}

\subsection{Blocks}

\begin{frame}{Frame Title}
    \begin{block}{This is a block}
    Here goes some text
    \end{block}

    \begin{alertblock}{This is an alert block}
    Here goes some text
    \end{alertblock}

    \begin{examples}{This is an example block}
    \\Here goes some text
    \end{examples}
\end{frame}

\section{Conclusion}
\begin{frame}
	\frametitle{Summary}
	Nunc tincidunt ante vitae massa. Duis ante orci, molestie vitae vehicula venenatis, tincidunt ac pede. Nullam sit amet magna in magna gravida vehicula. Mauris tincidunt sem sed arcu.
\end{frame}

%----------------------------------------------------------------------------------------
%	CLOSING SLIDE
%----------------------------------------------------------------------------------------

\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{footline}{}
\begin{frame}
	\titlepage % Output the title slide, automatically created using the text entered in the PRESENTATION INFORMATION block above
\end{frame}
\setbeamertemplate{footline}[frame number]


%----------------------------------------------------------------------------------------

\end{document}
